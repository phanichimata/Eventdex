<apex:page standardStylesheets="false" showheader="false" sidebar="false" controller="BLN_AttendeesController" action="{!displayPermissions}" id="thePage">

  
  <c:myComponentForTable BLN_UtillDisplayLinks="{!myticket}" >
   <c:AjaxLoader LoaderImage="{!$Resource.AjaxLoaderImage}"/>       
 <apex:stylesheet value="{!URLFOR($Resource.nwdatatable, 'nwdatatable/css/jquery.dataTables.css')}"/> 
 <script type="text/javascript" src="{!URLFOR($Resource.nwdatatable, 'nwdatatable/js/jquery.dataTables.js')}"></script>
 <apex:stylesheet value="{!URLFOR($Resource.Promocodes, 'promocodes/css/nwbuttons.css')}"/>

     <apex:stylesheet value="{!URLFOR($Resource.MyTickets, 'css/style.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.createevents,'createevents/css/style-button.css')}"/>
     
 <apex:stylesheet value="{!URLFOR($Resource.MyTickets, 'css/chosen.css')}"/>    
      <script type="text/javascript" src="{!URLFOR($Resource.MyTickets, 'js/jquery.min.js')}"></script>   
     <script type="text/javascript" src="{!URLFOR($Resource.MyTickets, 'js/jquery-ui-1.8.16.custom.min.js')}"></script>
     <script type="text/javascript" src="{!URLFOR($Resource.MyTickets, 'js/fancybox.js')}"></script>
      <script type="text/javascript" src="{!URLFOR($Resource.MyTickets, 'js/fullcalendar.min.js')}"></script>     
      
 <script type="text/javascript" src="{!URLFOR($Resource.MyTickets, 'js/elfinder.min.js')}"></script> 
   <script type="text/javascript" src="{!URLFOR($Resource.MyTickets, 'js/jquery.wysiwyg.js')}"></script>     
 
<script type="text/javascript" src="{!URLFOR($Resource.MyTickets, 'js/tipTip.minified.js')}"></script>  
<script type="text/javascript" src="{!URLFOR($Resource.MyTickets, 'js/forms.js')}"></script>
<script type="text/javascript" src="{!URLFOR($Resource.MyTickets, 'js/chosen.jquery.min.js')}"></script>   
    <script type="text/javascript" src="{!URLFOR($Resource.MyTickets, 'js/fautoresize.jquery.min.js')}"></script>
    
 <script type="text/javascript" src="{!URLFOR($Resource.MyTickets, 'js/colorpicker.js')}"></script>
   <script type="text/javascript" src="{!URLFOR($Resource.MyTickets, 'js/functions.js')}"></script>   

    <script type="text/javascript" src="{!URLFOR($Resource.SpryTabs, 'sprytabs/tabssss.js')}"></script>
    <apex:stylesheet value="{!URLFOR($Resource.SpryTabs, 'sprytabs/tabsss.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.SpryTabs, 'sprytabs/tables.css')}"/>
     
 
   <script type="text/javascript" language="javascript" class="init">
$(document).ready(function() {
    $('#example').dataTable( {
        "pagingType": "full_numbers",
        /**default orderid in asc sorting**/
         "order": [[ 1, "asc" ]],
        /**sorting coloumn disable**/
        "aoColumnDefs": [
      { 'bSortable': false, 'aTargets': [ 0 ] },
     
   ]
        
    } );
} );

    </script>
    
    <style>
       .sectionheading {
        width: 99.1%;
        margin-bottom: 5px;
        padding: 5px;
        color: #fff;
        font-size: 17px;
        font-family: cuprum;
        background-color: #9D9D9D;
        }
   
      
      #close{ font-size:22px; font-weight:bold; color:#fff; text-decoration:none; float:right; margin-right:.2%; margin-top:-22px;}
      #close:hover{ font-size:22px; text-decoration:underline; font-weight:bold; color:#fff; float:right; margin-right:.2%; margin-top:-22px;}
    
    #container_box{ width:100%;  padding:5px; border:3px solid #F1F1F1; background-color: #F7F7F7;}
    #order_left{ width:100%;  background-color: #e0e9ee; float:left;}
    #order_right{ width:100%; background-color:#fff; float:right;}
    #order_summary_wrapper{vertical-align:top; border:1px #FFFFFF solid; background-color:#e0e9ee;}
    #order_summary{ border-collapse:collapse;}
    #order_summary tr td{ padding:0px 3px;}
    #order_placed{ text-transform:uppercase; font-size:12px; font-weight:700; color:#828484; font-family:Arial, Helvetica, sans-serif;}
    #order_date{ font-size:15px; font-weight:700; font-family:Arial, Helvetica, sans-serif}
    #output_label{ color:#3d64a5; font-size:14px; font-weight:700; text-transform:none;}
    #order_details{ border-collapse:collapse; margin-bottom:1px;}
    #order_details tr td{padding:8px;}
    #order_details_tr{background-color:#e0e9ee; border-bottom:1px #B5B5B5 dotted;text-align:center; font-size:13px; font-family:Arial, Helvetica, sans-serif;}
     #order_details_tr_cancel{background-color:#e0e9ee; border-bottom:1px #B5B5B5 dotted;text-align:center; font-size:13px; font-family:Arial, Helvetica, sans-serif;}
   
    #order_details_tr_headers{background-color:#e0e9ee;padding:8px; border-bottom:1px #B5B5B5 dotted;text-align:center; font-size:12px; color:#000; font-family:Arial, Helvetica, sans-serif; font-weight:700;}
    #order_details_heading {background-color:#1576a3;}
    #ticket_details{ border-collapse:collapse; margin-bottom:0px;}
    #ticket_details tr td{padding:8px;}
    #table_titles{color:#ffffff; font-size:14px; font-weight:700; font-family:Arial, Helvetica, sans-serif;}
   
     .popupBackground{
      opacity:.8;
    position:fixed;
    top:0px; 
    left:0px;
    background-color: #484848;
    width:100%; 
    z-index:999;
    height:100%;

} 

   
    
    .custPopup{color:#000000;position: fixed;top:40px;left:0px;right:0px;z-index: 1000;width:90%;
          padding:5px;height: auto; margin:0 auto;-moz-border-radius-bottomleft:6px; -webkit-border-bottom-left-radius:6px; 
          -moz-border-radius-bottomright:6px; -webkit-border-bottom-right-radius:6px; border-radius:0 0 6px 6px; 
          font: 12px/24px "Lucida Grande",Arial,sans-serif;
         -moz-border-radius-bottomleft:6px; -webkit-border-bottom-left-radius:6px; -moz-border-radius-bottomright:6px;
         -webkit-border-bottom-right-radius:6px; border-radius:6px 0 6px 6px;
        
        }
        
 .custPopup2{color:#000000;position: absolute;top:40px;left:0px;right:0px;z-index: 1001;width:90%;
          padding:10px;height: auto; margin:0 auto;-moz-border-radius-bottomleft:6px; -webkit-border-bottom-left-radius:6px; 
          -moz-border-radius-bottomright:6px; -webkit-border-bottom-right-radius:6px; border-radius:0 0 6px 6px; 
          font: 12px/24px "Lucida Grande",Arial,sans-serif;
         -moz-border-radius-bottomleft:6px; -webkit-border-bottom-left-radius:6px; -moz-border-radius-bottomright:6px;
         -webkit-border-bottom-right-radius:6px; border-radius:6px 0 6px 6px;
        
        }
        
        
        .popupBackground2{
        opacity:.8;
        position:fixed;
        top:0px; 
        left:0px;
        background-color: #484848;
        width:100%; 
        z-index:1001;
        height:100%;
     } 
    
        
.btn{background-image:none;}
 table{border:0px;} 
 
table td{border:0px;}   
.rightcontent{border:0px}
</style>
 
<!-- -------------------------------------------------------- apex functions ------------------------------------------ -->

        
<script type="text/javascript">
       
    function sendNaicsCodeBack(){
          
           
              var selbol = ''; 
                var SelNaicsVal ='';
                var x = 0;
                var j = 0;
                var surveybool ='';

               var ele = document.getElementById('single-label-example');

               var k=0; 
               for (x=0;x<ele.length;x++)
                 {
                    if (ele[x].selected)
                    {
                       k++;
                       SelNaicsVal= SelNaicsVal+ '-' + ele[x].value.replace("-",'&');
                    }
                 }

               if(k>2){
                     alert('Maximum of 2 Naics Codes Are allowed');
                     return false;
                    
                    }else{
                     naicsCodesFunction(SelNaicsVal);
                    }
         }
         
      
         </script>
  <script>
  function canceltickets(orderItemId,itemQuan){
      if(itemQuan >= 1){
       var r=confirm("Do you want to delete "+ itemQuan  +" tickets?");
        if (r == true) {
         candirectTic(orderItemId);
         }
     }
 }


function  displayordeItem(ordItem,ststus){
 renderDetail(ordItem);
}

function  displayordeItem(ordItem){
 detailsOforder(ordItem);
}

   
    
 function cancelTotalOrder(ordId){
  var r=confirm("Are you sure, you want cancel order?");
        if (r == true) {
           canord(ordId);
           return true;
        } else {
        
         return false;
        }
 }
    function canIndividualtickest(tcid){
       var r=confirm("Are you sure, you want cancel ticket?");
        if (r == true) {
            cavticIndividual(tcid);
           return true;
        } else {
        
         return false;
        }
    }


 

</script> 

<script>
 
 function editOrder()
{

   if(person.length>1){
     alert('Please select only one record at a time');
   }else{
    if(person.length==0){
      alert('Please select record to edit');
   }else{
     var d =person[0];
      Editordform(d);
   }
  } 
}


 function refundpayment()
{
   if(person.length>1){
     alert('Please select only one record at a time');
   }else{
    if(person.length==0){
      alert('Please select record to refund');
   }
  } 
}



 function cancelOrder()
{
   if(person.length>1){
     alert('Please select only one record at a time');
   }else{
    if(person.length==0){
      alert('Please select record to cancel');
   }else{
      cancelTotalOrder(person[0]);  
   }
  } 
}


 function exporder(){
 //alert('DDDDDDDD '+isAllchecked);
   if(person.length==0){
      alert('Please select at least one record to export');
   }else{k
     if(isAllchecked){
        
        var r=confirm("Do you want to export all pages?");
        if (r == true) {
           exportOrder();
          } else {
           constructstr();
           
        }
     }else{
        constructstr();
         }

     } 
    
  } 
  
  
 
 function constructstr(){
   individualexport();
 }
 
 </script>  
 
<script>
    var person = new Array();
    var isAllchecked =false;
 </script> 
 
  <script>
   function confirmDelete() {
    var x;
    if (confirm("Are you sure, yount to delete ticket!") == true) {
       return true;
    } else {
      return false;
    }
    
}
</script> 
 
    <apex:form >
        <div class="clear" style="height:0px;"></div>
        <apex:actionFunction name="naicsCodesFunction" reRender="thePage" action="{!sendNaicsCodes}">
                    <apex:param name="naicsCodes"  value=""/>
         </apex:actionFunction>
         

          
     </apex:form>
 <apex:form id="firstfrm">
 <apex:actionFunction name="createbadgelabel" action="{!createbadgelabel}" rerender="frm2" status="AjaxLoader">
              <apex:param name="label" value="" />
              <apex:param name="ticketid" value="" />
              </apex:actionfunction>
              <apex:actionFunction name="mergeBadge" action="{!mergeBadge}"  rerender="frm2" status="AjaxLoader"/>
              <apex:actionFunction name="cancelBadge" action="{!cancelBadge}"  rerender="frm2" status="AjaxLoader"/>
              <apex:actionFunction name="splitpackage" action="{!splitpackage}"  rerender="frm2" status="AjaxLoader"/>
              <apex:actionFunction name="previewpackage" action="{!previewpackage}"  rerender="previewblock" status="AjaxLoader"/>
              
              
 <apex:actionFunction name="getTicketToMergeList" action="{!getTicketToMergeList}" rerender="tickettomergesection" status="AjaxLoader"/>
 <apex:actionFunction name="getMergeList" action="{!getMergeList}" rerender="ticketmergelistsection" status="AjaxLoader"/>
 <apex:actionFunction name="getPackageList" action="{!getPackageList}" rerender="ticketpackagelistsection" status="AjaxLoader"/>
 
 
 
 <script type="text/javascript">

   /*function checkAll(cb,cbid)
   {
   var inputElem = document.getElementsByTagName("input");                    
   for(var i=0; i<inputElem.length; i++)
   {            
   if(inputElem[i].id.indexOf(cbid)!=-1)
   {                                       
   inputElem[i].checked = cb.checked;
   }
   }
   }*/
   
   
   </script>
  
  
    <script>                 
    /* Highlight Row */
    function highlight(id, currentClass, checkboxId){
   
       var checkbox_element = document.getElementsByClassName(id);
       var row_element = document.getElementsByClassName(id);
       if(checkbox_element[0].checked){
          person.push(checkboxId);
         
       }else{
       var index  = person.indexOf(checkboxId);
       if (index > -1) {
        person.splice(index, 1);
      }
     
    }
     row_element.className = checkbox_element[0].checked ? 'selected' : currentClass;
  }

  function check_uncheck_all(){
        if (document.getElementById('selector_check').checked == true){
        
        check_all();
        
       }
        else{
       
          uncheck_all();
          
        }    
    }
    
            /*Check All */
            function check_all(){
         // alert(document.forms.length)
            var num_checkboxes = document.forms[2].elements.length;
           
            
          
               for(var x = 0; x < num_checkboxes; x++){
                  if(document.forms[2].elements[x].type =='checkbox'){
                     document.forms[2].elements[x].checked = true;
                      person.push(document.forms[2].elements[x].id);
                     
                  }
                  
               }
               isAllchecked = true;
                //alert("ddddddrr"+person);
               highlight_all(num_checkboxes);
                //alert("dddddd"+person);
             }
           
      /* Uncheck All */
            
            function uncheck_all(){
            //alert("dddddd");
            var num_checkboxes = document.forms[2].elements.length;
             for(var i = 0; i < num_checkboxes; i++){
                  if(document.forms[2].elements[i].type == 'checkbox'){
                     document.forms[2].elements[i].checked = false;
                     var index  = person.indexOf(document.forms[2].elements[i].id);
                       if (index > -1) {
                        person.splice(index, 1);
                      }
                 }
              } 
               isAllchecked =false;
               remove_highlight_for_all(num_checkboxes);
            }
            
/* Highlight All Rows (this happens when 'check_all' is triggered */
            
            function highlight_all(num){
               for(i = 1; i <= num; i++){
                  document.getElementById('tr' + i).className = 'selected';
               }
            }
            
            
            
            /* Remove highlight for all Rows (this happens when 'uncheck_all' is triggered */
            
            function remove_highlight_for_all(num){
               for(i = 1; i <= num; i++){
                  var initial_class = (i % 2) ? 'even' : 'odd';
                  document.getElementById('tr' + i).className = initial_class;
                  }
            }
            
            
            
             </script>
 
 
 
 
    <div id="promocodetable" style="width:100%;">  
    <!--------------------------style for badgebutton picklis------------------->

<style>
   nav .login-content1 {
          display: none;
          position: absolute;
          top:32px;
          right: 0;
          z-index: 999; background-color:#7f8c8d; opacity:3;
          
         
        }
 nav .login-trigger1 {
    /* border:1px solid #bbbcbf;*/
    border:1px solid #438ac2;
    
            /*border-top: 1px solid #fff;
            border-bottom: 1px solid #D0D0D0;*/
             -webkit-border-radius: 3px;
          -moz-border-radius: 3px;
          border-radius: 3px;
             height: 30px;
            display:block;
            cursor:pointer;
        }
   
  nav .login-triggers1{
        display: inline-block;
          *display: inline;
          *zoom: 1;
          height: 13px;
          width:auto;
          font-family: Arial, Helvetica, sans-serif;
          font-size:12px;
          line-height: 18px;
          padding: 0 6px;
          text-decoration: none;
          color:#fff;
          
          
          padding-top:8px;
          padding-bottom:9px;
        /*  padding-left:15px;
          padding-right:20px;*/
          -webkit-border-radius: 1px;
          -moz-border-radius: 1px;
          border-radius: 1px;
          background-image:url({!URLFOR($Resource.createevents,'createevents/images/button.png')} );
        background-position:0px -60px;
          /*background: url(orderimgs/ul_playlist_li.png) repeat-x center bottom #F5F5F5;;*/
          /*background:-webkit-linear-gradient(top, #f8faf9 0%,#d1d2d5 100%);*/
        /*background: url(orderimgs/ul_playlist_li.png) repeat-x center bottom #F5F5F5;*/
           
          border: 0px solid #292f34; 
       
       }
       .login-content1 li div  {
            color:#FFF;
            
            text-decoration:none;
            font-size:15px;
            font-family:cuprum;
                padding:10px;
                cursor:pointer; 
                
            display:block;
        
        }
         .login-content1 li img  {
            padding-right:2px;
            padding-top:1px;
            float:left;
        }
        
        nav li .login-content1 {
          right: 0;
          width:100%;  
          
        }
        
        .login-content1 li:hover {
            background-color:#247dba;
        }
    <!--------------------------->
   </style>
   <!------------------------------PopUpScript---------------------------------------------------->



 <script type="text/javascript">
function CustomAlert(){
    this.render =function(dialog){
        getTicketToMergeList();
    
        var winW = window.innerWidth;
        var winH = window.innerHeight;
        var dialogoverlay =document.getElementById('dialogoverlay');
        var dialogbox = document.getElementById('dialogbox');
        dialogoverlay.style.display="block";
        /*dialogoverlay.style.height = winH +"px";*/
    /*  dialogbox.style.left=(winW/2) -(1160*.5)+"px";*/
        dialogbox.style.top="180px";
        dialogbox.style.display="block";
        /*document.getElementById('dialogboxhead') .innerHTML="Confirrmation";
        document.getElementById('dialogboxbody') .innerHTML= dialog;
        document.getElementById('dialogboxfoot') .innerHTML ='<button class="abc" onclick="Alert.ok()">ok</button>'
        document.getElementById('dialogboxfoot1') .innerHTML ='<button class="abc" onclick="Alert.Cancel()">cancel</button>'*/
    }
    
    this.ok = function(){
        document.getElementById('dialogbox').style.display ="none";
                document.getElementById('dialogoverlay').style.display ="none";
            <!--    document.getElementById('abcd') .innerHTML= "rahil";-->
            
             
                return false;
        
        }
        
        
    this.Cancel = function(){
        document.getElementById('dialogbox').style.display ="none";
                document.getElementById('dialogoverlay').style.display ="none";
            
                
                return false;
        
        }
    
    }
    
    var Alert = new CustomAlert(); 

</script>
<style>
#dialogoverlay{
    display:none;
    opacity:.8;
    position:fixed;
    top:0px; 
    left:0px;
    background-color: #484848;
    width:100%; 
    z-index:1000;
    height:100%;
    }
#dialogoverlay2{
    display:none;
    opacity:.8;
    position:fixed;
    top:0px; 
    left:0px;
    background-color: #fff;
    width:100%; 
    z-index:1000;
    height:100%;
    } 
    #dialogoverlay3{
    display:none;
    opacity:.8;
    position:fixed;
    top:0px; 
    left:0px;
    background-color: #fff;
    width:100%; 
    z-index:1000;
    height:100%;
    }  
     #dialogoverlay4{
    display:none;
    opacity:.8;
    position:fixed;
    top:0px; 
    left:0px;
    background-color: #fff;
    width:100%; 
    z-index:1000;
    height:100%;
    }
#dialogbox{ display:none; background-color:; position:fixed; padding:5px;
 width:40%; z-index:1000;  padding-top:30px;border-radius:3px; margin-left:30%;}
 #dialogbox1{ display:none; background-color:; position:fixed; padding:5px;
 width:40%; z-index:1000; margin-left:30%;  padding-top:30px;
 border-radius:3px;}
  #dialogbox4{ display:none; background-color:; position:fixed; padding:5px;
 width:40%; z-index:1000; margin-left:30%;  padding-top:30px;
 border-radius:3px;}
 #dialogbox2{ display:none; width:36%;background-color: #a6ca8a ; border-radius:3px; position:fixed; padding:1px;
  z-index:1000; border-radius:2px; margin-left:32.5%;}
  #dialogbox3{ display:none; width:36%;background-color: #a6ca8a ; border-radius:3px; position:fixed; padding:1px;
  z-index:1000; border-radius:2px; margin-left:32.5%;}
 #close{ font-size:22px; font-weight:bold; color:#fff; text-decoration:none; float:right; margin-right:.2%; margin-top:-27px;}
  #close:hover{ font-size:22px; text-decoration:underline; font-weight:bold; color:#fff; float:right; margin-right:.2%; margin-top:-27px;}
  #close1{ font-size:22px; font-weight:bold; color:#000; text-decoration:none; float:right; margin-right:.2%; margin-top:-22px;}
  #close1:hover{ font-size:22px; text-decoration:underline; font-weight:bold; color:#000; float:right; margin-right:.2%; margin-top:-22px;}
  #close2{ font-size:22px; font-weight:bold; color:#000; text-decoration:none; float:right; margin-right:.2%; margin-top:-22px;}
  #close2:hover{ font-size:22px; text-decoration:underline; font-weight:bold; color:#000; float:right; margin-right:.2%; margin-top:-22px;}
  #dialogbox > div  { margin:0px;}
 #dialogboxhead{ font-size:17px; padding:5px; color:#3ca641; background-color:#d4f7ba;}

 #dialogboxbody{ background:#fff; padding:20px; color:#3ca641; font-size:14px; font-weight:300;}
#dialogboxfoot{  background:#fff; width:100%; border:0px solid #F00; padding-bottom:5px; float:left; text-align:center;}
/*#dialogboxfoot1{ background:#fff; ; width:47.8%; border:0px solid #F00; float:left; padding:10px; padding-right:0px; padding-left:2px; text-align:left;}*/
.abc{ background-color:#F4F4F4; border:0px;  padding-top:5px;padding-bottom:5px;padding-right:15px;padding-left:15px; cursor:pointer;}
 </style>
 <!--popup for assign badge-->
 <div id="dialogoverlay"></div><!--close of dialogoverlay-->
<div id="dialogbox">
<a href="#" id="close" onclick="Alert.Cancel()" >×</a>
<div class="grid-1" style=" width:100%;margin-left:1%; padding-right:0px;">
    <div class="title-grid">Merge Badge</div>
    <div class="content-gird" >
    <table width="100%" border="0">
     <tr>
    <td style="padding:5px; font-size:14px; text-align:left;">Ticket to Merge with:</td>
    </tr>
    <tr>
    <td>
    <apex:outputpanel id="tickettomergesection">
        <apex:selectList value="{!selectedtickets}" size="1">
    
            <apex:selectOptions value="{!mergeticketlist}"/>
            
         
        </apex:selectList> 
    
    </apex:outputpanel>
    
    </td>
  </tr>
    <tr>
    <td colspan="2" style="padding:5px; padding-top:10px; text-align:center;">
    <button class="button-a blue" onclick="mergeBadge();return false;" >Merge</button>
                        &nbsp;&nbsp;
     <button class="button-a dark-blue" onclick="Alert.Cancel()" >Cancel</button>
    </td>

  </tr>
</table>

    
    </div><!--close of contentgrid-->
    </div><!--close of grid-1-->

</div><!--close of dialogbox-->
<!----close of assign badge popup-->


<!--popup for print badge--->
<script type="text/javascript">
function CustomAlert(){
    this.render =function(dialog){
        var winW = window.innerWidth;
        var winH = window.innerHeight;
        var dialogoverlay =document.getElementById('dialogoverlay');
        var dialogbox = document.getElementById('dialogbox1');
        dialogoverlay.style.display="block";
        /*dialogoverlay.style.height = winH +"px";*/
    /*  dialogbox.style.left=(winW/2) -(1160*.5)+"px";*/
        dialogbox.style.top="180px";
        dialogbox.style.display="block";
        /*document.getElementById('dialogboxhead') .innerHTML="Confirrmation";
        document.getElementById('dialogboxbody') .innerHTML= dialog;
        document.getElementById('dialogboxfoot') .innerHTML ='<button class="abc" onclick="Alert.ok()">ok</button>'
        document.getElementById('dialogboxfoot1') .innerHTML ='<button class="abc" onclick="Alert.Cancel()">cancel</button>'*/
    }
    
    this.ok = function(){
        document.getElementById('dialogbox1').style.display ="none";
                document.getElementById('dialogoverlay').style.display ="none";
            <!--    document.getElementById('abcd') .innerHTML= "rahil";-->
                
                return true;
        
        }
        
        
    this.Cancel = function(){
        document.getElementById('dialogbox1').style.display ="none";
                document.getElementById('dialogoverlay').style.display ="none";
            
                
                return false;
        
        }
    
    }
    
    var Alert1 = new CustomAlert(); 

</script>
<div id="dialogoverlay"></div><!--close of dialogoverlay-->
<div id="dialogbox1">
<a href="#" id="close" onclick="Alert1.Cancel()" style="margin-top:-8px;" >×</a>
<style>
#printbadge td{ padding:5px;}

</style>

 
  

<div class="grid-1" style=" width:98%;margin-left:1%; padding-right:0px;">
    <div class="title-grid">Print Badge</div>
    <div class="content-gird" >
       <table id="printbadge" width="100%" border="0" style="font-size:14px;">
  <tr>
    <td width="30%" style="text-align:right;">Select Printer:</td>
    <td>
    <apex:selectList value="{!selectedprinter}" multiselect="false" size="1">   
    <apex:selectOptions value="{!printerlist}">
    </apex:selectOptions>
      <apex:actionSupport event="onchange" reRender="bpop,printbadgepanel" action="{!findtemplate}"/>
    </apex:selectList>
    </td>
  </tr>
  <tr id="zebratemp" style=" display:;">
    <td style="text-align:right;">Select Template:</td>
   <td>
   <apex:outputPanel id="bpop">
   <apex:selectList value="{!selectedbdtemname}" multiselect="false" size="1">   
    <apex:selectOptions value="{!bdstyleslist}">
    </apex:selectOptions>
    </apex:selectList>
    </apex:outputpanel>
    </td>
  </tr>
  
   <tr>
    <td colspan="2" style="padding:5px; padding-top:10px; text-align:center;">
    <apex:outputpanel id="printbadgepanel">
    <apex:commandbutton styleClass="button-a blue" value="Print" action="{!genpdf}" rendered="{!IF(bdstyleslist.size==0,false,true)}" />
    </apex:outputpanel>
                        &nbsp;&nbsp;
                        
     <button class="button-a dark-blue" onclick="Alert1.Cancel()" >Cancel</button>
    
    </td>
  
  </tr>
  
</table>
 
    </div><!--close of contentgrid-->

    </div><!--close of grid1-->
</div><!--close of dialogbox-->

<!--close of print badge---->
 <!----------------close of popup script----> 
 
 <!--popup for merge badge--->
<script type="text/javascript">
function CustomAlert(){
    this.render =function(dialog){
    getMergeList();
        var winW = window.innerWidth;
        var winH = window.innerHeight;
        var dialogoverlay =document.getElementById('dialogoverlay2');
        var dialogbox = document.getElementById('dialogbox2');
        dialogoverlay.style.display="block";
        /*dialogoverlay.style.height = winH +"px";
        dialogbox.style.left=(winW/2) -(550*.5)+"px";*/
        dialogbox.style.top="250px";
        dialogbox.style.display="block";
       
    }

    this.ok = function(){
        document.getElementById('dialogbox2').style.display ="none";
                document.getElementById('dialogoverlay2').style.display ="none";
                
                
                return false;
        
        }
        
     
    this.Cancel = function(){
        document.getElementById('dialogbox2').style.display ="none";
                document.getElementById('dialogoverlay2').style.display ="none";
                return false;
        
        }
    
    }
    
    var Alert2 = new CustomAlert(); 

</script>

<div id="dialogoverlay2" style=""></div><!--close of dialogoverlay-->
<div id="dialogbox2">
<a href="#" id="close1" onclick="Alert2.Cancel()" >×</a>
<div id="dialogboxhead">UnMerge</div><!--close of dialoghead-->
<div id="dialogboxbody">

    
    
 <table width="100%" border="0">
     <tr>
    <td style="padding:5px; font-size:14px; text-align:right;">Select Ticket to UnMerge:</td>
    <td>
    <apex:outputpanel id="ticketmergelistsection">
        <apex:selectList value="{!selectedunmergetickets}" size="1">
    
            <apex:selectOptions value="{!unmergelist}"/>
            
         
        </apex:selectList> 
    
    </apex:outputpanel>
    
    </td>
  </tr>
    <tr>
    <td colspan="2" style="padding:5px; padding-top:10px; text-align:center;">
    <button class="button-a blue" onclick="cancelBadge();return false;" >UnMerge</button>
                        &nbsp;&nbsp;
     <button class="button-a dark-blue" onclick="Alert2.Cancel()" >Cancel</button>
    </td>

  </tr>
</table>   
    
    
    
</div><!--close of dialogbody-->
<div id="dialogboxfoot">
</div><!--close of dialogboxfoot-->
<!--<div id="dialogboxfoot1">
</div>--><!--close of dialogboxfoot1--> 

</div><!--close of dialogbox-->
 <!--close of mergebadge dialog-box-->
 
 <!--popup for split package--->
<script type="text/javascript">
function CustomAlert(){
    this.render =function(dialog){
    getPackageList();
        var winW = window.innerWidth;
        var winH = window.innerHeight;
        var dialogoverlay =document.getElementById('dialogoverlay3');
        var dialogbox = document.getElementById('dialogbox3');
        dialogoverlay.style.display="block";
        /*dialogoverlay.style.height = winH +"px";
        dialogbox.style.left=(winW/2) -(550*.5)+"px";*/
        dialogbox.style.top="100px";
        dialogbox.style.display="block";
       
    }

    this.ok = function(){
        document.getElementById('dialogbox3').style.display ="none";
                document.getElementById('dialogoverlay3').style.display ="none";
                
                
                return false;
        
        }
        
     
    this.Cancel = function(){
        document.getElementById('dialogbox3').style.display ="none";
                document.getElementById('dialogoverlay3').style.display ="none";
                return false;
        
        }
    
    }
    
    var Alert3 = new CustomAlert(); 

</script>

<div id="dialogoverlay3" style=""></div><!--close of dialogoverlay-->
<div id="dialogbox3">
<a href="#" id="close1" onclick="Alert3.Cancel()" >×</a>
<div id="dialogboxhead">Split Package</div><!--close of dialoghead-->
<div id="dialogboxbody">

    
    
 <table width="100%" border="0">
     <tr>
    <td style="padding:5px; font-size:14px; text-align:right;">Select Package:</td>
    <td>
    <apex:outputpanel id="ticketpackagelistsection">
        <apex:selectList value="{!selectedpackagetickets }" size="1">
    
            <apex:selectOptions value="{!packagelist}"/>
            
         
        </apex:selectList> 
    
    </apex:outputpanel>
    
    </td>
  </tr>
  <tr>
  
  <apex:outputpanel id="previewblock">
  <apex:variable var="i" value="{!1}"/>
  <apex:repeat value="{!pbs}" var="p">
  <td>{!i})Ticket:</td><td>{!p.Ticket}<br/></td>
  <td>Line Items:</td><td>{!p.LineItems}<br/><br/></td>
   <apex:variable var="i" value="{!i+1}"/>
  </apex:repeat>
  </apex:outputpanel>
  
  </tr>
    <tr>
    <td colspan="2" style="padding:5px; padding-top:10px; text-align:center;">
    <button class="button-a blue" onclick="splitpackage();return false;" >Split</button>
     <button class="button-a blue" onclick="previewpackage();return false;" >Preview</button>
                        &nbsp;&nbsp;
     <button class="button-a dark-blue" onclick="Alert3.Cancel()" >Cancel</button>
    </td>

  </tr>
</table> 

  
    
    
    
</div><!--close of dialogbody-->
<div id="dialogboxfoot">
</div><!--close of dialogboxfoot-->
<!--<div id="dialogboxfoot1">
</div>--><!--close of dialogboxfoot1--> 

</div><!--close of dialogbox-->
 
 
 <!--popup for Assign Tag--->
<script type="text/javascript">
function CustomAlert(){
    this.render =function(dialog){
        var winW = window.innerWidth;
        var winH = window.innerHeight;
        var dialogoverlay =document.getElementById('dialogoverlay4');
        var dialogbox = document.getElementById('dialogbox4');
        dialogoverlay.style.display="block";
        /*dialogoverlay.style.height = winH +"px";*/
    /*  dialogbox.style.left=(winW/2) -(1160*.5)+"px";*/
        dialogbox.style.top="180px";
        dialogbox.style.display="block";
        /*document.getElementById('dialogboxhead') .innerHTML="Confirrmation";
        document.getElementById('dialogboxbody') .innerHTML= dialog;
        document.getElementById('dialogboxfoot') .innerHTML ='<button class="abc" onclick="Alert.ok()">ok</button>'
        document.getElementById('dialogboxfoot1') .innerHTML ='<button class="abc" onclick="Alert.Cancel()">cancel</button>'*/
    }
    
    this.ok = function(){
        document.getElementById('dialogbox4').style.display ="none";
                document.getElementById('dialogoverlay4').style.display ="none";
            <!--    document.getElementById('abcd') .innerHTML= "rahil";-->
                
                return true;
        
        }
        
        
    this.Cancel = function(){
        document.getElementById('dialogbox4').style.display ="none";
                document.getElementById('dialogoverlay4').style.display ="none";
            
                
                return false;
        
        }
    
    }
    
    var Alert4 = new CustomAlert(); 

</script>
<div id="dialogoverlay4"></div><!--close of dialogoverlay-->
<div id="dialogbox4">
<a href="#" id="close2" onclick="Alert4.Cancel()" style="margin-top:-8px;" >×</a>
<style>
#assigntag td{ padding:5px;}

</style>

 
  

<div class="grid-1" style=" width:98%;margin-left:1%; padding-right:0px;">
    <div class="title-grid">Assign Tag</div>
    <div class="content-gird" >
       <table id="assigntag" width="100%" border="0" style="font-size:14px;">
  <tr>
  <td colspan="2"><font color="red">**Note:you will lose the history of previous tags</font></td>
  </tr>
  <tr>
    <td width="30%" style="text-align:right;">Enter Tag Name:</td>
    <td>
    <apex:inputtext value="{!tagName}"/>
    </td>
  </tr>
  
  
   <tr>
    <td colspan="2" style="padding:5px; padding-top:10px; text-align:center;">
    
    <apex:commandbutton styleClass="button-a blue" value="Assign Tag" action="{!assignTag}" />
    
                        &nbsp;&nbsp;
                        
     <button class="button-a dark-blue" onclick="Alert4.Cancel()" >Cancel</button>
    
    </td>
  
  </tr>
  
</table>
 
    </div><!--close of contentgrid-->

    </div><!--close of grid1-->
</div><!--close of dialogbox-->

<!--close of print badge---->
 <!----------------close of popup script---->
 
 
   <!--start of badge option button-->
    <table width="100%" border="0">
  <tbody><tr>
  <td>
  Filter By :
    &nbsp;                    
    <apex:selectList value="{!selectedAttendeeType}" multiselect="false" size="1" style="padding-left:10px;">
        <apex:selectOptions value="{!attendeeTypes}"/>
        <!-- <apex:actionSupport event="onchange" action="{!displayAttendees}"/> -->
    </apex:selectList> 
  </td>
<td width="57%">
          <div style="float:right; margin-right:1%;">
          <nav id="" style="float:right;">
                      <ul style="float:left; margin-top:0px; margin-left: 4px;">
                        <li id="login1"> <span class="login-trigger1"> <span class="login-triggers1"> <span id="user-panel-check" style="background-image:url({!URLFOR($Resource.createevents,'createevents/images/check.png')} ); padding-right:6px; margin-left:5px;"></span> <span id="user-panel-title ">Badge Options</span> </span> </span>
                          <div class="login-content1">
                            <ul style="line-height:13px; float:none; text-align:center;">
                              <li style="float:none"><div onclick="Alert.render()">Merge Badge</div></li>
                              <li style="float:none"><div onclick="Alert1.render()">Print Badge</div></li>
                              <li style="float:none"><div onclick="Alert2.render();">Unmerge Badge</div></li>
                              <li style="float:none"><div onclick="Alert3.render();">Split Package</div></li>
                              <li style="float:none"><div onclick="Alert4.render();">Assign Tag</div></li>
                            </ul>
                          </div>
                        </li>
                      </ul>
                    </nav>
          </div>
         </td>
</tr>
</tbody></table>
<!--end of badge option button-->
    
    <!--Statistic

       <div style="float:right;valign:middle;padding:10px;" >
             <apex:outputText rendered="{!SelectAttendee}" value="Select atleast one Attendee !" style="font-weight:28px;color:red;margin-right:60px;"/>
             <apex:commandButton rendered="{!AND(AttendeesList, NOT(isPastEvent))}" value="Print Badges" action="{!PrinterTypes}" styleclass="button-a blue" style="margin-right:10px;"/>
             <apex:commandButton rendered="{!AttendeesList}" value="Export" action="{!ExportIntoCSV}" styleclass="button-a blue"/>
       </div>-->
    <div id="tablemenubar" style="">
        
        </div><!--close of tablemenubar-->
         <style>
         .selected { background-color: #E0EFF7; } 
        #tablemenubar{
            width:99.7%; height:50px;
             background-color:#ccc; 
            padding-top:10px;
             margin-bottom:-60px;
             background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#f8faf9), color-stop(100%,#d1d2d5));
                background: -webkit-linear-gradient(top, #f8faf9 0%,#d1d2d5 100%);
                background: -o-linear-gradient(top, #f8faf9 0%,#d1d2d5 100%);
                background: -ms-linear-gradient(top, #f8faf9 0%,#d1d2d5 100%);
                background: linear-gradient(top, #f8faf9 0%,#d1d2d5 100%);
                filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f8faf9', endColorstr='#d1d2d5',GradientType=0 );
                border: 1px solid #CCC;
                            
            }
            </style>
            <table class="display" id="example">
               <thead>
                 <tr>
                   <th rowspan="1" colspan="1" style="width: 5%;">
                   <input id="selector_check" type="checkbox" onclick="check_uncheck_all();"/></th>
                   <!-- <th class="th_title sorting" rowspan="1" colspan="1" style="width:10%;">Ticket Type</th> -->
                   <th class="th_title sorting" rowspan="1" colspan="1" style="width:15%;">Name</th>
                   <th class="th_status sorting" rowspan="1" colspan="1" style="width: 15%;">Email</th>
                   <th class="th_date sorting" rowspan="1" colspan="1" style="width: 10%;">Phone</th>
                   <th class="th_author sorting" rowspan="1" colspan="1" style="width: 10%;">Company</th>
                   <th class="th_author sorting" rowspan="1" colspan="1" style="width: 10%;">Badge Label</th>
                   <th class="th_author sorting" rowspan="1" colspan="1" style="width: 10%;">Tag</th>
                   <th class="th_author sorting" rowspan="1" colspan="1" style="width: 8%;">Seat No.</th>
                   <th class="th_title sorting" rowspan="1" colspan="1" style="width:10%;">Order Id</th>
                   <th class="th_title sorting" rowspan="1" colspan="1" style="width:10%;">Ticket Id</th>
                   <!-- <th class="th_date sorting" rowspan="1" colspan="1" style="width: 12%;">Action</th> -->
                   
                   
                 </tr>
               </thead>
               <tbody>
               <apex:variable value="{!1}" var="rowNum"/>
               <apex:repeat value="{!ListOfListAttendees}" var="Tics">
                <apex:repeat value="{!Tics}" var="current">
                <apex:outputpanel rendered="{!IF( (current.ticket.Item_Type__r.Name=='Package' && current.ticket.Parent_ID__c !=null && current.ticket.item_pool__r.Item_Type__r.Name=='Admissions') || (current.ticket.Item_Type__r.Name!='Package' && current.ticket.Item_Type__r.Name=='Admissions') , '','none')}">
                 <tr class="even odd" id="tr{!rowNum}" >
                   <td class="">
                   <apex:inputCheckbox value="{!current.selectCheckBox}" id="chk" onClick="JavaScript: highlight('{!current.ticket.id}', 'even', '{!current.ticket.id}');"  styleclass="{!current.ticket.id}" /></td>
                     
                    
                    <td>
                     <apex:commandLink action="{!editTicket}" value="{!current.ticket.First_Name__c} {!current.ticket.Last_Name__c}"> 
                         <apex:param value="{!current.ticket.id}" name="TicketIdparam"/>
                     </apex:commandLink>
                      
                    </td>
                    <td>{!current.ticket.Email__c}</td>
                    <td class="name">{!current.ticket.Client_GN_User__r.Mobile__c}</td>
                    <td class="name">{!current.ticket.Company__c}</td>
                    <td>
                      <apex:inputtext value="{!current.ticket.Badge_Label__c}" onchange="createbadgelabel(this.value,'{!current.ticket.id}');" />
                     </td>                     
                     
                     <td class="name">
                     <apex:repeat value="{!tagsmap}" var="x">
             <apex:outputtext rendered="{!current.ticket.Item_Pool__c == x}" value="{!tagsmap[x]}"/>
         </apex:repeat>
         
         <apex:repeat value="{!tickettagsmap}" var="x">
             <apex:outputtext rendered="{!current.ticket.Id == x}" value="{!tickettagsmap[x]}"/>
         </apex:repeat>
         
                     </td>
                     <td class="name">
                     {!current.ticket.Tag_No__c}
                     </td>
                     <td>
                      <apex:commandLink value="{!current.ticket.order__r.Name}" action="{!orderDetails}" reRender="frm2">
                        <apex:param value="{!current.ticket.order__r.id}" name="orderIdparam"/>
                      </apex:commandLink>
                     
                     </td>
                     
                    <td>{!current.ticket.Name}</td>
               <!--     <td class="subject">
                  <apex:commandLink action="{!myTicketsBal.editTicket}" >
                   <apex:image value="{!URLFOR($Resource.ScanAttendee_V1, 'AttendeeScan/scanattendee/images/edit-1.png')}"/>
                      <apex:param value="{!current.ticket.id}" name="TicketIdparam"/>
                  </apex:commandLink>
                 
                  <span>
                   <apex:commandLink action="{!deleteAttendee}" onclick="return confirmDelete();">
                        <apex:image value="{!URLFOR($Resource.ScanAttendee_V1, 'AttendeeScan/scanattendee/images/remove.png')}"/>
                          <apex:param value="{!current.ticket.id}" name="canticId"/>
                     </apex:commandLink>     
                   </span>  </td> -->
                 </tr>
                 <apex:variable var="rowNum" value="{!rowNum + 1}"/>
                 </apex:outputpanel>
                 </apex:repeat> </apex:repeat>
               
               </tbody>
             </table>
              </div>
              
              
             </apex:form> 
 <!-- ---------------------------------------------------------- Details Pop up Start----------------------------------------------------- -->           
              
            <apex:form id="frm2">
           <apex:outputPanel styleClass="popupBackground" layout="block" rendered="{!orddetailbool}" id="Popup3"/>
               <apex:outputPanel styleClass="custPopup" layout="block" rendered="{!orddetailbool}"  id="guestForm">
            
            <div id="divid" style="height: 600px;overflow: auto;">
            <div style="float:right;right:-2px;color:#FFF;background-color:#FFF;">
                <apex:commandButton action="{!cancelOrdDetail}" value="Close" id="close" image="{!$Resource.PopUpClose}" title="Close" style="width:26px;height:26px; color:#FFF;font-size:16; font-weight:bold;" reRender="frm2"  immediate="true" styleClass="button-a dark-blue"/>
            </div>   
              
    <apex:repeat value="{!ValuesOfseletedorder}" var="current" > 
        <table id="container_box"><tr>
        <td id="order_summary_wrapper" width="19.5%">
       <div id="order_left">
            <table id="order_summary" width="100%" border="0">
               <tbody>
               <tr id="order_details_heading">
                <td id="table_titles" >Order Summary</td>
              </tr>
               <tr>
                <td id="order_placed">Order #:<span id="output_label">{!current.Name}</span></td>
              </tr>
             
              <tr style="border-bottom:1px solid #ffffff;">
                <td id="order_date" style="padding-bottom:8px;"><c:MFSI_FormatDateTime date_Timevalue="{!current.createdDate}"/></td>
              </tr>
             
              <tr>
               <td id="order_placed">Ordered By:<span id="output_label">{!current.Client_GN_User__r.First_Name__c} {!current.Client_GN_User__r.Last_Name__c}</span></td>
              </tr>
              <tr>
               <td id="order_placed">Company:<span id="output_label"> 
                <apex:outputText value="{!current.Client_Company__r.Name}"/></span></td>
              </tr>
              <tr >
               <td id="order_placed">Email:<span id="output_label"> {!current.Client_GN_User__r.Email__c}</span></td>
              </tr>
              <tr style="border-bottom:1px solid #ffffff;">
               <td id="order_placed" style="padding-bottom:8px;">Phone:<span id="output_label"> {!current.Client_GN_User__r.Mobile__c} </span></td>
              </tr>
               
               <tr>
                <td id="order_placed">Total Order:<span id="output_label"> 
                 <apex:outputText value="{!current.Order_Sub_Total__c-current.Fee_Amount__c-current.Order_Taxes__c}"> </apex:outputText>
                <!--${!current.Order_Sub_Total__c}--> </span>  </td>
              </tr>
             <tr style="display:{!IF(current.Order_Discount__c>0  ,'','none')}">
                <td id="order_placed">Discount Amount:<span id="output_label"> ${!current.Order_Discount__c}</span></td>
              </tr> 
              <tr>
                <td id="order_placed">Fee:<span id="output_label"> ${!current.Fee_Amount__c}</span></td>
              </tr>
              <tr>
                <td id="order_placed">Tax %:<span id="output_label">${!current.Order_Taxes__c} </span></td>
              </tr>
              <tr style="border-bottom:1px solid #ffffff;" >
                <td id="order_placed" style="padding-bottom:8px;">Final Order:<span id="output_label">$
                {!current.Order_Sub_Total__c-current.Order_Discount__c}
                <!--{!current..Order_Total__c} --></span></td>
              </tr>
               <tr>
                <td id="order_placed">Paid Amount:<span id="output_label" style="color:#952f3e">${!current.Amount_Paid__c}</span></td>
              </tr>
               <tr>
                <td id="order_placed">Payment Status:<span id="output_label" style="color:#952f3e"> {!current.Order_Status__c}</span></td>
              </tr>
               <tr>
                <td id="order_placed">Payment Type:<span id="output_label">
                 <apex:repeat value="{!current.payments__r}" var="pa">
                 {!pa.Payment_Mode__c}<br /></apex:repeat>
                </span></td>
              </tr>
             <!-- <tr style="display:{!IF(current.paymentInn.Payment_Mode__c=='Check' ,'','none')}">
                <td id="order_placed">Check No :<span id="output_label"> {!current.paymentInn.Payment_Ref_Number__c}</span></td>
              </tr> -->
              
              <!-- <tr style="border-bottom:1px solid #ffffff;">
                <td style="padding-bottom:8px;" id="order_placed">Check #:<span id="output_label"></span></td>
                <tr>
                <td id="order_placed">Refund Amount:<span id="output_label"> $45.00</span></td>
              </tr>
              <tr>
                <td id="order_placed">Refund Type:<span id="output_label"> Credit</span></td>
              </tr>
              <tr>
                <td id="order_placed">Refund Date:<span id="output_label"></span></td>
              </tr>
              <tr>
                <td id="order_placed">Transaction Id:<span id="output_label"> T-14732</span></td>
              </tr>
              </tr>
              <tr>
                <td id="order_placed">Final Order:<span id="output_label"> $20.00</span></td>
              </tr> -->
             
            </tbody></table>
            
            
            </div><!--close of order_left-->
    
    </td>
    
    <td width="81%" style="vertical-align:top; background-color:#e0e9ee;">
     <div id="order_right" >
    <!--start of order details-->
    
    <apex:outputPanel id="orderDetailpop">
     <table id="order_details"  width="100%" border="0">
      <tr id="order_details_heading" >
       <td id="table_titles" colspan="7">Order Details</td>
        
      </tr>
     <tr id="order_details_tr_headers">
        <td>Ticket Type</td>
        <td>Ticket Qty</td>
        <td>Ticket Price</td>
        <td>Total Price</td>
        <td>Promo Code</td>
        <td> Fee </td>
        <td>Final sale price</td>
         
      </tr>
      <apex:repeat value="{!current.Order_Items__r}" var="cus" >
                    
      <tr id="order_details_tr">
        <td>{!cus.item__r.item_name__c}</td>
        <td>{!cus.Item_Quantity__c} </td>
        <td>${!cus.Each_Ticket_Price__c}</td>
        <td>${!cus.Item_Total__c}</td>
        <td>{!cus.Promotion__r.Name}</td>
         <td>${!cus.Item_Fee__c}</td>
        <td>${!cus.Item_Total__c+cus.Item_Fee__c}</td>
         
      </tr>
   </apex:repeat>
    </table>
    <!---end of order details table-->
    <!---start of ticket and Guest Details-->
     <apex:outputPanel rendered="{!IF(current.Tickets__r.size>0,true,false)}">
    
    <table id="ticket_details" width="100%" border="0">
      <tr id="order_details_heading" >
        <td id="table_titles" colspan="10">Ticket Details</td>
       
      </tr>
      <tr id="order_details_tr_headers" >
      
        <td>Ticket ID</td>
        <td>Ticket Type</td>
        <td>Name</td>
        
        <td>Email Address</td>
        <td>Phone</td>
        <td>Company</td>
        <td>Badge Label</td>
        <td>Ticket Status</td>
      </tr>
       <apex:repeat value="{!current.Tickets__r}" var="cust" >
                      
      <tr id="order_details_tr" style="display:{!If(cust.Item_Pool__r.Item_Type__r.Name=='Package','none','')}">
        <td>
         <apex:commandLink action="{!editTicket}" value="{!cust.Name}"> 
         <apex:param value="{!cust.id}" name="TicketIdparam"/>
         </apex:commandLink>
        </td>
        <td><apex:outputText rendered="{!If(cust.item__r.Item_Type__r.Name!='Package',true,false)}">
            {!cust.item__r.item_name__c}</apex:outputText> 
      
       <apex:outputText rendered="{!If(cust.item__r.Item_Type__r.Name=='Package',true,false)}">
        {!cust.Item_Pool__r.Item_Pool_Name__c}</apex:outputText>
        </td>
        
        <td>{!cust.First_Name__c}  {!cust.Last_Name__c}</td>
        <td>{!cust.Email__c}</td>
         <td>{!cust.Client_GN_User__r.Mobile__c}</td>
        <td>{!cust.Company__c}</td>
        <td>{!cust.Badge_Label__c}</td>
        <td>
              {!cust.Ticket_Status__c}        
       </td>
       
       
      </tr>
     </apex:repeat>
    </table>
    
    </apex:outputPanel> 
    
      </apex:outputPanel> 
      
     
 <!-----------end of ticket and guest Details---------------------------->

</div><!--close of order_right-->
    
     </td>
</tr>
</table><!--close of container-->
</apex:repeat>
</div>
  </apex:outputPanel>
             
  </apex:form>    
    <!-- ---------------------------------------------------------- Details Pop up End----------------------------------------------------- -->    
       <!-- --------------------------------------------------------- pop up ---------------------------------------------------------------- -->
                <apex:form id="secForm"> 
                  <apex:outputPanel styleClass="popupBackground2" layout="block" rendered="{!displyAddGuest}" id="Popup3"/>
                   <apex:outputPanel styleClass="custPopup2" layout="block" rendered="{!displyAddGuest}" style="width:80%" id="guestForm">
                       
    <div style="float:right;position: absolute;top:1px;right:-2px;">
       <apex:commandButton action="{!CloseGuests}" value="Close" title="Close" style="width:26px;height:26px; color:#000000;font-size:16; font-weight:bold;" rendered="secfrm" />
        </div>
        
        
         <div id="timer" style="border" class="countdown_timer_notification">
                    <center>
                        <table id="tablew"  border="0" style="width:100%">
                        <tr>
                            <td style="width:100%">
                             <apex:pageMessages ></apex:pageMessages>
                          </td>
                        </tr></table></center>
               </div> 
        
        
     <div style="height:280px;">
      <div>
        <div class="grid-1" style="text-align:left">
        <div class="title-grid">Add Guest Information</div>
        <div class="content-gird">
        <div class="form" style="margin-top:5px;" >
                           <apex:outputPanel id="addPanel">
              
                                        <apex:outputPanel >
                                          
                                            <div id="ticketstable-subheader1"  class="sectionheading">
                                                 <apex:outputText value="Basic Information" style="padding-top:5px; text-align:left;"/>
                                            </div>
                                         
                                        </apex:outputPanel> 
                                        
                                        <style>
                                        .fields1  tr td{padding:5px;}
                                      
                                        </style>
                                       
                                            <table id="field box" class="fields fields1" width="80%" border="0" style="border-collapse:collapse;border: 0px Solid Red;" cellpadding="10">
                
                                               <tr>
                                                    <td width="20%" style=" font-size:13px; font-family:Arial, Helvetica, sans-serif;">
                                                     Prefix:   
                                                    </td>
                                                    <td><apex:inputField id="Prefix" value="{!gnUser.Prefix__c}" styleClass="PrefixTicket selectlist " style="width:73.5%"/></td>
                                                </tr> 
                                                    <tr>
                                                    <td width="20%" style="    font-size:13px; font-family:Arial, Helvetica, sans-serif;">
                                                        First Name:<span id="mandatory">*</span> </td>
                                                    <td><apex:inputField id="FirstName" value="{!addGuest.First_Name__c}" onchange="setCookie('apex__firstname', this.value, 3);" styleClass="FirstNameTicket "/></td>
                                                </tr>
                                                <tr>
                                                    <td width="20%" style="    font-size:13px; font-family:Arial, Helvetica, sans-serif;"> Last Name:<span id="mandatory">*</span>
                                                       </td>
                                                    <td><apex:inputField id="LastName" value="{!addGuest.Last_Name__c}" onchange="setCookie('apex__lastname', this.value, 3);" styleClass="LastNameTicket "/></td>
                                                </tr>
                                                  <tr>
                                                    <td width="20%" style="   font-size:13px; font-family:Arial, Helvetica, sans-serif;">
                                                       Email: <span id="mandatory">*</span>
                                                       </td>
                                                    <td><apex:inputField id="Email" value="{!addGuest.Email__c}" onchange="setCookie('apex__emailaddress', this.value, 3);" styleClass="EmailTicket "/></td>
                                                </tr>
                                              </table>
                                    
                                   <apex:repeat value="{!settingsForbuyer}" var="rs">
                                  
                                       <table id="field box" class="fields fields1" width="80%" border="0" style=" border-collapse:collapse;border: 0px Solid Red;" cellpadding="10">
                                          
                                            <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Suffix__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%"  style="font-size:13px; text-align:left; font-family:Arial, Helvetica, sans-serif;">
                                                    {!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Suffix__c' && rs.Required__c == TRUE, TRUE , FALSE)}">
                                                        <span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="Suffix"  value="{!gnUser.Suffix__c}" styleClass="SuffixTicket selectlist " style="width:73.5%;"/></td>
                                                </tr>
                                            </apex:outputText> 
                                             
                                            <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Phone__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%"  style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Phone__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="Phone" value="{!gnUser.Mobile__c}" onchange="setCookie('apex__phone', this.value, 3);"  styleClass="PhoneTicket "/></td>
                                                </tr>
                                            </apex:outputText>   
                                            <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Name' && rs.Included__c == TRUE, TRUE , FALSE)}"> 
                                         
                                                <tr>
                                                    <td width="20%" style="   font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Name' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="Company" value="{!addGuest.Company__c}" onchange="setCookie('apex__company', this.value, 3);" styleClass="CompanyTicket "/></td>
                                                </tr>
                                            </apex:outputText>
                                            <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Title__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <!--<tr>
                                                    <td width="20%"  style="   font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Title__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="Title" value="{!gnUser.Title__c}" required="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Title__c' && rs.Required__c == TRUE, TRUE , FALSE)}"  styleClass="TitleTicket "/></td>
                                                </tr>-->
                                            </apex:outputText>   
                                            <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Age__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Age__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="Age" value="{!gnUser.Age__c}" styleClass="AgeTicket "/></td>
                                                </tr>
                                            </apex:outputText>  
                                            <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'DOB__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%"  style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'DOB__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><c:noDateLink ><apex:inputField id="DOB" value="{!gnUser.DOB__c}" styleClass="DOBTicket"/></c:noDateLink></td>
                                                </tr>
                                            </apex:outputText>     
                                            <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Gender__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Gender__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="Gender" value="{!gnUser.Gender__c}" styleClass="GenderTicket selectlist " style="width:73.5%"/></td>
                                                </tr>
                                            </apex:outputText>       
                                            <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work_Phone__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="   font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Work_Phone__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="WorkPhone" value="{!compext.Work_Phone__c}" styleClass="WorkPhoneTicket "/></td>
                                                </tr>
                                            </apex:outputText>  
                                            <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Home_Phone__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Home_Phone__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="HomePhone" value="{!gnUser.Home_Phone__c}" styleClass="HomePhoneTicket "/></td>
                                                </tr>
                                            </apex:outputText>   

                                        </table>

                                       <!-------------------------------------------------------------------------------------  Basic Information Group End ---------------------------------------------------------------------------------------->
                                   
                                   <!-------------------------------------------------------------------------------------  Address Information Group Start ---------------------------------------------------------------------------------------->
                                         <apex:outputText rendered="{!IF(rs.Group_Name__c == 'Address Information' , TRUE , FALSE)}">
                                            <div id="ticketstable-subheader1"  class="sectionheading">
                                               <apex:outputText value="{!rs.Column_Name__c}" style="padding-top:5px; text-align:left;"/>
                                            </div>
                                        </apex:outputText>  
                                            <table id="field box" class="fields fields1" width="80%" border="0" style=" border-collapse:collapse;" cellpadding="10">

                                                <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home Address1:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="HomeAddress1" value="{!gnUser.Address1__c}" styleClass="HomeAddress1Ticket "/></td>
                                                </tr>
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home Address2:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="HomeAddress2" value="{!gnUser.Address2__c}"  styleClass="HomeAddress2Ticket "/></td>
                                                </tr>
                                                 <tr>
                                                    <td width="20%" style=" font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home City:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="HomeCity" value="{!gnUser.City__c}" styleClass="HomeCityTicket "/></td>
                                                </tr>
                                                <tr>
                                                    <td width="20%" style=" font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home Country:
                                                    
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td>                   
                                                        <apex:selectList id="HomeCountry" value="{!gnUser.Country__c}" multiselect="false" size="1" styleClass="HomeCountryTicket selectlist " style="width:73.5%">
                                                            <apex:selectOptions value="{!countryOptions}"/>
                                                                 <apex:actionSupport event="onChange" action="{!statesBasedOnCountry}" rerender="HomeStatePanel"/> 
                                                        </apex:selectList> 
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home State:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td>
                                                        <apex:outputText id="HomeStatePanel">
                                                            <apex:selectList id="HomeState" value="{!gnUser.State__c}" multiselect="false" size="1" styleClass="HomeStateTicket selectlist " style="width:73.5%">
                                                                <apex:selectOptions value="{!stateOptions}"></apex:selectOptions>
                                                            </apex:selectList>
                                                        </apex:outputText>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home Zip Code:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="HomeZip" value="{!gnUser.Zip_Code__c}" styleClass="HomeZipTicket "/></td>
                                                </tr>   
                                                

                                                <tr>
                                                </tr>
                                                </apex:outputText> 
                                                
                                                <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work Address1:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BusinessAddress1" value="{!compext.Business_Address1__c}" styleClass="BusinessAddress1Ticket "/></td>
                                                </tr>
                                                <tr>
                                                    <td width="20%" style=" font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work Address2:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BusinessAddress2" value="{!compext.Business_Address2__c}" styleClass="BusinessAddress2Ticket "/></td>
                                                </tr>
                                                 <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work City:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BusinessCity" value="{!compext.Business_City__c}" styleClass="BusinessCityTicket "/></td>
                                                </tr>
                                                <tr>
                                                    <td width="20%" style=" font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work Country:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td>
                                                        <apex:selectList id="BusinessCountry" value="{!compext.BLN_Business_Country__c}" multiselect="false" size="1" styleClass="BusinessCountryTicket selectlist" style="width:73.5%">
                                                            <apex:selectOptions value="{!countryOptions}"/>
                                                                <apex:actionSupport event="onChange" action="{!statesBasedOnCountry}" rerender="WorkStatePanel">
                                                            </apex:actionSupport> 
                                                        </apex:selectList>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work State:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td>
                                                        <apex:outputText id="WorkStatePanel">
                                                            <apex:selectList id="BusinessState"  value="{!compext.BLN_Business_State__c}" multiselect="false" size="1" styleClass="BusinessStateTicket selectlist " style="width:73.5%">
                                                                <apex:selectOptions value="{!stateOptions}"></apex:selectOptions>
                                                            </apex:selectList>
                                                        </apex:outputText>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td width="20%" style="   font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work Zip Code:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BusinessZip" value="{!compext.Business_Zipcode__c}" styleClass="BusinessZipTicket "/></td>
                                                </tr>    
                                                </apex:outputText>   
                                                </table>    
                                            <!------------------------------------------------------------------------------------- Business Address Information Group End ---------------------------------------------------------------------------------------->
                                            
                                   <!-------------------------------------------------------------------------------------  Work Information Group Start ---------------------------------------------------------------------------------------->
                                        <apex:outputText rendered="{!IF(rs.Group_Name__c == 'Work Information' && rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Primary_Business_Category__c' , TRUE , FALSE)}">
                                            <div id="ticketstable-subheader1"  class="sectionheading">
                                                 <apex:outputText value="{!rs.Group_Name__c}" style="padding-top:5px; text-align:left;"/>
                                            </div>
                                        </apex:outputText>  
                                            <table id="field box" class="fields fields1" width="80%" border="0" style=" border-collapse:collapse;" cellpadding="10">
                                                <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Primary_Business_Category__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Primary_Business_Category__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="PrimBusCategory" value="{!compext.Primary_Business_Category__c}" styleClass="PrimBusCategoryTicket selectlist " style="width:73.5%"/></td>
                                                </tr>
                                                </apex:outputText>  
                                                <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Secondary_Business_Category__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Secondary_Business_Category__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="SecBusCategory" value="{!compext.Secondary_Business_Category__c}" styleClass="SecBusCategoryTicket selectlist " style="width:73.5%"/></td>
                                                </tr>
                                                </apex:outputText>  
                                                <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Number_Of_Employees__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Number_Of_Employees__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="NoofEmp" value="{!compext.Number_Of_Employees__c}" styleClass="NoofEmpTicket "/></td>
                                                </tr>
                                                </apex:outputText>  
                                                <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Established_Date__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Established_Date__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><c:noDateLink ><apex:inputField id="EstDate" value="{!compext.Established_Date__c}" styleClass="EstDateTicket #0"/></c:noDateLink></td>
                                                </tr>
                                                </apex:outputText>  
                                                <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Revenue__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Revenue__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="Revenue" value="{!compext.Revenue__c}" styleClass="RevenueTicket "/></td>
                                                </tr>
                                                </apex:outputText>  
                                                <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Tax_Id__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Tax_Id__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="TaxId" value="{!compext.Tax_Id__c}" styleClass="TaxIdTicket "/></td>
                                                </tr>
                                                </apex:outputText> 
                                                <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Duns_Number__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Duns_Number__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="DunsNumber" value="{!compext.Duns_Number__c}" styleClass="DunsNumberTicket "/></td>
                                                </tr>
                                                </apex:outputText> 
                                                <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Website_URL__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Website_URL__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="WebsiteUrl" value="{!comp.Website_URL__c}" styleClass="WebsiteUrlTicket "/></td>
                                                </tr>
                                                </apex:outputText> 
                                                <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Blog_URL__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Blog_URL__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BlogUrl" value="{!compext.Blog_URL__c}" styleClass="BlogUrlTicket "/></td>
                                                </tr>
                                                </apex:outputText>  
                                                <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Description__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Description__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="Description" value="{!comp.Description__c}" styleClass="DescriptionTicket "/></td>
                                                </tr>
                                                </apex:outputText> 
                                            </table>
                                        
                                        <!-------------------------------------------------------------------------------------  Work Information Group End ---------------------------------------------------------------------------------------->
                                     
                                   <!-------------------------------------------------------------------------------------  NAICS Code Group Start ---------------------------------------------------------------------------------------->
                                         <apex:outputText rendered="{!IF(rs.Group_Name__c == 'Naics Code Information' && rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'NAICS Codes', TRUE , FALSE)}">
                                            <div id="ticketstable-subheader1"  class="sectionheading">
                                                 <apex:outputText value="{!rs.Group_Name__c}" style="padding-top:5px; text-align:left;"/>
                                            </div>
                                        </apex:outputText>  
                                            <table id="field box" class="fields fields1" width="80%" border="0" style=" border-collapse:collapse;" cellpadding="10">
                                                <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'NAICS Codes' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style=" font-size:13px; font-family:Arial, Helvetica, sans-serif;">Primary NAICS Code:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'NAICS Codes' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><!--    <apex:inputText id="PrimNaicsCode" value="{!compext.Primary_NAICS_Code__c}" styleClass="PrimNaicsCodeTicket "/> -->
                                                    

                                                    <select multiple="multiple" size="15" data-placeholder="Search NAICS Codes"  class="chzn-select medium-select select" name="SelBranch"  style="width:300px;" tabindex="17" id="single-label-example" onchange="sendNaicsCodeBack();">  
                                                    <option value=""></option>
                                                    <apex:repeat value="{!listOfnaicscodes}" var="Lists" id="naics1">
                                                    <apex:repeat value="{!Lists}" var="list">  
                                                  <!--  <option value="{!list.Id}" >{!list.Name} {!list.Description__c}</option>
                                                    -->
                                                        <apex:outputText rendered="{!IF(CONTAINS(checkNAICSforEdit,list.Id), TRUE, FALSE)}">
                                                        <option value="{!list.Id}" selected="selected">{!list.Name} {!list.Description__c}</option>
                                                        </apex:outputText>
                                                        <apex:outputText rendered="{!IF(CONTAINS(checkNAICSforEdit,list.Id), FALSE, TRUE)}">
                                                        <option value="{!list.Id}" >{!list.Name} {!list.Description__c}</option>
                                                        </apex:outputText> 
                                                    
                                                    
                                                    </apex:repeat>
                                                    </apex:repeat>
                                                    </select>
                                                        
                                                     
                                                    </td>
                                                </tr>
                                                </apex:outputText>  
                                                <!-- <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'NAICS Codes' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="20%" style="  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Secondary NAICS Code:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'NAICS Codes' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="SecNaicsCode" value="{!compext.Secondary_NAICS_Code__c}" styleClass="SecNaicsCodeTicket "/></td>
                                                </tr>
                                                </apex:outputText>  -->     
                                            </table>
                                        <!-------------------------------------------------------------------------------------  NAICS Code Group End ---------------------------------------------------------------------------------------->

                                   
                                   </apex:repeat> <br /><br />
              
              <!------------------------------------------------Survey Questions--------------------------------------------------->
         
        <apex:outputPanel rendered="{!ticketLevelQuestions.size>0}">
         <div class="sectionheading" style="font-weight:bold;" >
           Ticket Level Survey Questions
        </div><!--close of sectionheading-->
        </apex:outputpanel>
        
        <apex:variable value="{!0}" var="rt"/>
         <apex:repeat value="{!ticketLevelQuestions}" var="tqa">
         <div class="surveyquest-box" style="">
         <apex:variable value="{!rt+1}" var="rt"/>
        <p class="sqhead"><span style=" margin-right:1%;"></span>{!rt}.{!tqa.question.Question__r.Question_Text__c}</p>
        <p class="sqans">
            <apex:repeat value="{!tqa.answers}" var="usr">
              <apex:outputPanel rendered="{!IF(tqa.question.Question__r.Answer_Type__c!='Single Selection' && tqa.question.Question__r.Answer_Type__c!='Checkboxes' && tqa.question.Question__r.Answer_Type__c!='Choose from a list' ,true,false)}"> {!usr.UAnswer_Text__c}</apex:outputPanel>
              <apex:outputPanel rendered="{!IF(tqa.question.Question__r.Answer_Type__c=='Single Selection' || tqa.question.Question__r.Answer_Type__c=='Checkboxes' || tqa.question.Question__r.Answer_Type__c=='Choose from a list' ,true,false)}"> {!usr.Answer__r.Answer_Text__c}</apex:outputPanel>
           
            </apex:repeat>
        </p><br />
        </div><!--surveyquest-box-->
         </apex:repeat>
         
         
         
        
        <apex:outputPanel rendered="{!eventLevelQuestions.size>0}">
        <div class="sectionheading" style="font-weight:bold;" >
           Event Level Survey Questions
        </div><!--close of sectionheading-->
        </apex:outputPanel>
        <apex:variable value="{!0}" var="rt"/>
         <apex:repeat value="{!eventLevelQuestions}" var="tqa">
         <div class="surveyquest-box" style="">
         <apex:variable value="{!rt+1}" var="rt"/>
        <p class="sqhead"><span style=" margin-right:1%;"></span>{!rt}.{!tqa.question.Question__r.Question_Text__c}</p>
        <p class="sqans">
            <apex:repeat value="{!tqa.answers}" var="usr">
              <apex:outputPanel rendered="{!IF(tqa.question.Question__r.Answer_Type__c!='Single Selection' && tqa.question.Question__r.Answer_Type__c!='Checkboxes' && tqa.question.Question__r.Answer_Type__c!='Choose from a list' ,true,false)}"> {!usr.UAnswer_Text__c}</apex:outputPanel>
              <apex:outputPanel rendered="{!IF(tqa.question.Question__r.Answer_Type__c=='Single Selection' || tqa.question.Question__r.Answer_Type__c=='Checkboxes' || tqa.question.Question__r.Answer_Type__c=='Choose from a list' ,true,false)}"> {!usr.Answer__r.Answer_Text__c}</apex:outputPanel>
           
            </apex:repeat>
        </p><br />
        </div><!--surveyquest-box-->
          </apex:repeat>
         
<!----------------------------------->
 
 
 
 
             <!----------------------------------->
            <div style="clear:both;"></div><!--close of clear-->
            
            
              <!---------------------------------------------------------end of survey Questions------------------------------------>
              
              
            <div style="float:right;margin-right:2%;">
               <apex:commandButton value="Cancel" action="{!CloseGuests}" styleClass="button-a dark-blue" style="padding:5px;" />
            </div>
           </apex:outputPanel>
        
        <div class="clear"> </div>
         </div>

        <div class="clear"> </div>
          </div>
          </div>
          </div>
        </div>

                     
                     
                </apex:outputPanel>
             </apex:form> 

   
  </c:myComponentForTable>
    
<apex:stylesheet value="{!URLFOR($Resource.createevents,'createevents/css/jquery.datetimepicker.css')}"/>

<script type="text/javascript" src="{!URLFOR($Resource.datetimepicker, 'datetimepicker/jquery.datetimepicker.js')}"></script>
<script type="text/javascript">
$('.DOBTicket').datetimepicker({
timepicker:false,
format:'m/d/Y',
formatDate: 'm/d/Y',    

});

$('.EstDateTicket').datetimepicker({
timepicker:false,
format:'m/d/Y',
formatDate: 'm/d/Y',
});


var TabbedPanels1 = new Spry.Widget.TabbedPanels("TabbedPanels1");
document.getElementById(TabbedPanels1).defaultTab=1; 
</script>            
 
</apex:page>